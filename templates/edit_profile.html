{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Editar Perfil</h2>
    
    <!-- Mensagem de sucesso -->
    {% if success_message %}
        <div class="alert alert-success">
            {{ success_message }}
        </div>
    {% endif %}
    
    <form action="{{ url_for('edit_profile') }}" method="POST" enctype="multipart/form-data">
        <!-- Campo para nome de usuário -->
        <div class="form-group">
            <label for="username">Nome de usuário:</label>
            <input type="text" id="username" name="username" class="form-control" value="{{ user.username }}" required>
        </div>

        <!-- Campo para email -->
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" class="form-control" value="{{ user.email }}" required>
        </div>

        <!-- Campos do veículo -->
        <h4>Informações do Veículo</h4>
        <div class="form-group">
            <label for="marca">Marca:</label>
            <input type="text" id="marca" name="marca" class="form-control" value="{{ user.marca }}">
        </div>
        <div class="form-group">
            <label for="modelo">Modelo:</label>
            <input type="text" id="modelo" name="modelo" class="form-control" value="{{ user.modelo }}">
        </div>
        <div class="form-group">
            <label for="ano_fabricacao">Ano de Fabricação:</label>
            <input type="text" id="ano_fabricacao" name="ano_fabricacao" class="form-control" value="{{ user.ano_fabricacao }}">
        </div>
        <div class="form-group">
            <label for="cor">Cor:</label>
            <input type="text" id="cor" name="cor" class="form-control" value="{{ user.cor }}">
        </div>
        <div class="form-group">
            <label for="placa">Placa:</label>
            <input type="text" id="placa" name="placa" class="form-control" value="{{ user.placa }}">
        </div>
        <div class="form-group">
            <label for="renavam">Renavam:</label>
            <input type="text" id="renavam" name="renavam" class="form-control" value="{{ user.renavam }}">
        </div>

        <!-- Upload das fotos -->
        <h4>Fotos</h4>
        <div class="form-group">
            <label for="foto_perfil">Foto de Perfil:</label>
            <input type="file" id="foto_perfil" name="foto_perfil" class="form-control">
            {% if user.foto_perfil %}
                <img src="{{ url_for('static', filename='uploads/' + user.foto_perfil) }}" alt="Foto de Perfil" width="100">
            {% endif %}
        </div>
        <div class="form-group">
            <label for="foto_crlv">Foto do CRLV:</label>
            <input type="file" id="foto_crlv" name="foto_crlv" class="form-control">
            {% if user.foto_crlv %}
                <img src="{{ url_for('static', filename='uploads/' + user.foto_crlv) }}" alt="Foto do CRLV" width="100">
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary">Salvar alterações</button>
    </form>
</div>
{% endblock %}
